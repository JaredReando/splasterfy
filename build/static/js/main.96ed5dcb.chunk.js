(this.webpackJsonpsplasterfy=this.webpackJsonpsplasterfy||[]).push([[0],{49:function(e,t,n){e.exports=n(62)},54:function(e,t,n){},56:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),c=n(7),i=n.n(c),s=(n(54),n(9)),u=n.n(s),l=n(36),m=n(13),p=n(32),f=(n(56),n(24)),h=n(25),d=n(43),E=n(42),v=function(){function e(){Object(f.a)(this,e),this.baseUrl="http://ws.audioscrobbler.com/2.0"}return Object(h.a)(e,[{key:"fetchApi",value:function(){var e=Object(m.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.baseUrl+"?method=".concat(n,"&")+t+"&api_key=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_LAST_FM_KEY,"&format=json"),e.next=3,fetch(a);case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"queryString",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(e).map((function(a){var r=n+(n.length?"[".concat(a,"]"):a),o=e[a];if(o instanceof Array){var c=o.map((function(e){return encodeURIComponent(String(e))})).join("&".concat(encodeURIComponent(r),"="));return"".concat(encodeURIComponent(r),"=").concat(c)}return o instanceof Object?t.queryString(o,r):"".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(String(o)))})).filter((function(e){return e.length>0})).join("&")}}]),e}();!function(e){e.ADD_TAGS="artist.addTags",e.GET_CORRECTION="artist.getCorrection",e.GET_INFO="artist.getInfo",e.GET_SIMILAR="artist.getSimilar",e.GET_TAGS="artist.getTags",e.GET_TOP_ALBUMS="artist.getTopAlbums",e.GET_TOP_TAGS="artist.getTopTags",e.GET_TOP_TRACKS="artist.getTopTracks",e.REMOVE_TAG="artist.removeTag",e.SEARCH="artist.search"}(a||(a={}));var b=function(e){Object(d.a)(n,e);var t=Object(E.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"getSimilar",value:function(){var e=Object(m.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.queryString(t),e.next=3,this.fetchApi(n,a.GET_SIMILAR);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getInfo",value:function(e){var t=this.queryString(e);return this.fetchApi(t,a.GET_INFO)}},{key:"search",value:function(e){var t=this.queryString(e);return this.fetchApi(t,a.SEARCH)}}]),n}(v),g=n(108),T=n(97),O=n(103),y=n(107),S=n(106),_=n(102),A=n(104),w=n(105),j=n(101),k=Object(T.a)({table:{minWidth:650},input:{background:"white"}});var x=function(){var e=k(),t=new b,n=Object(r.useState)(""),a=Object(p.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(null),f=Object(p.a)(s,2),h=f[0],d=f[1],E=function(){var e=Object(m.a)(u.a.mark((function e(n){var a,r,o,c,i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.time("timer"),a=[],r=Object(l.a)(n);try{for(r.s();!(o=r.n()).done;)c=o.value,i=t.getInfo({artist:c.name,mbid:c.mbid}),a.push(i)}catch(u){r.e(u)}finally{r.f()}return console.timeEnd("timer"),console.time("allPromises"),e.next=8,Promise.all(a);case 8:return s=e.sent,console.timeEnd("allPromises"),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("form",{onSubmit:function(){var e=Object(m.a)(u.a.mark((function e(n){var a,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t.getSimilar({artist:c});case 3:if(!("error"in(a=e.sent))){e.next=7;break}return console.log("that artist could not be found, please try another search"),e.abrupt("return");case 7:return r=a.similarartists.artist,console.time("form"),console.log(r),r||console.log("artists um failed.."),e.next=13,E(r);case 13:o=e.sent,console.log("artists info: ",o),d(r),console.timeEnd("form");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},o.a.createElement("label",{htmlFor:"artist"},"Artist"),o.a.createElement(g.a,{className:e.input,variant:"outlined",type:"text",id:"artist",onChange:function(e){return i(e.currentTarget.value)},value:c,"data-testid":"artist-search"}),o.a.createElement("button",{type:"submit",className:"App-link"},"Search"))),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexGrow:1,width:"100%",overflow:"auto",border:"1px solid lightgrey",padding:"20px"}},h&&o.a.createElement(_.a,{component:j.a},o.a.createElement(O.a,{stickyHeader:!0,className:e.table,"aria-label":"similar-artists"},o.a.createElement(A.a,null,o.a.createElement(w.a,null,o.a.createElement(S.a,null,"Artist"),o.a.createElement(S.a,null,"Match"),o.a.createElement(S.a,null,"Image"))),o.a.createElement(y.a,null,h.map((function(e,t){return o.a.createElement(w.a,{key:e.name},o.a.createElement(S.a,{component:"th",scope:"row"},e.name),o.a.createElement(S.a,{component:"th",scope:"row"},e.match),o.a.createElement(S.a,{component:"th",scope:"row"},o.a.createElement("img",{src:e.image[0]["#text"],alt:e.name})))})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.96ed5dcb.chunk.js.map